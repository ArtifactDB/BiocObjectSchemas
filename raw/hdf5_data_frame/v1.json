{
    "$schema": "http://json-schema.org/draft-07/schema",
    "$id": "hdf5_data_frame/v1.json",
    "type": "object",
    "title": "HDF5 Data Frame",
    "_description": [
        "A data frame object stored inside a group of a HDF5 file.",
        "Atomic columns are stored as one-dimensional datasets in the `data` subgroup, named by their positional 0-based index in the data frame.\n\n",
        "- Boolean columns are stored as integer HDF5 datasets, where a value of 1 is truthy and a value of zero is falsey.",
        "  These can be distinguished from integer columns by inspecting the `data_frame.columns.type` property.\n",
        "- Integer columns can be represented by any integer HDF5 datatype at the discretion of the data generator.",
        "  However, it is advisable to use a data type that is representable by a 32-bit signed integer, for maximum compatibility with downstream clients.\n",
        "- Floating-point columns can be represented by any floating-point datatype at the discretion of the data generator.",
        "  IEEE special values like Inf and NaN are allowed.\n",
        "- String columns can be represented by any string datatype (fixed or variable, ASCII or UTF-8) at the discretion of the data generator.",
        "  The character encoding specified in the dataset's type should be respected.\n\n",
        "All datasets representing atomic columns should have the same length.\n\n",
        "Each dataset may have a `missing-value-placeholder` attribute, containing a scalar value of the same type.",
        "Any value equal to this placeholder should be treated as missing.",
        "If no attribute exists, it can be assumed that no values are missing.",
        "(In minor version 1 of the `data_frame` specification, no placeholder was present; missing integers and booleans were represented by -2147483648 instead.)\n\n",
        "Column names are stored in `column_names`, a 1-dimensional string dataset of length equal to the number of columns.",
        "Row names, if present, are stored in a `row_names` dataset of the same length at the number of rows.",
        "Neither should contain any missing values.\n\n",
        "For non-atomic columns, the corresponding dataset is omitted and the actual contents are obtained from other files;",
        "a pointer to the resource should be stored in the corresponding entry of the `data_frame.columns` property."
    ],
    "allOf": [
        { "$ref": "../data_frame/v1.json" },
        { "$ref": "../_md5sum/v1.json" }
    ],
    "required": [
        "hdf5_data_frame"
    ],
    "properties": {
        "hdf5_data_frame": {
            "type": "object",
            "additionalProperties": false,
            "required": [
                "group"
            ],
            "properties": {
                "group": {
                    "type": "string",
                    "description": "Name of the group inside the HDF5 file that contains the contents of the data frame."
                }
            }
        }
    },
    "_attributes": {
        "format": "application/x-hdf5",
        "restore": {
            "R": "alabaster.base::loadDataFrame"
        }
    }
}

